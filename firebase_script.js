const firebase = require('firebase');
require('firebase/firestore');
const fs = require('fs');

firebase.initializeApp({
    apiKey: 'AIzaSyCmGWwe8BdUk-0co6_YSjmi3Fx6d-P5t64',
    authDomain: 'elecsnu.firebaseapp.com',
    databaseURL: 'https://elecsnu.firebaseio.com',
    projectId: 'elecsnu',
    storageBucket: 'elecsnu.appspot.com',
    messagingSenderId: '940855381122',
    appId: '1:940855381122:web:a7533509a6d86c623cb89b',
});

var db = firebase.firestore();

// db.collection('voter_groups')
//     .doc('Other')
//     .set({
//         group_id: 6,
//         list: [...other],
//     });

cse = [
    1810110088,
    1010110517,
    1510110153,
    1210110588,
    1310110518,
    1210110582,
    1110110442,
    1410110069,
    1210110015,
    1310110201,
    1710110741,
    1110110237,
    1010110669,
    1510110427,
    1110110727,
    1910110740,
    1510110577,
    1610110803,
    1010110108,
    1210110956,
    1310110382,
    1810110342,
    1510110593,
    1410110229,
    1610110632,
    1510110929,
    1810110633,
    1110110010,
    1110110482,
    1610110936,
    1210110257,
    1110110320,
    1710110976,
    1910110734,
    1710110192,
    1710110515,
    1310110592,
    1810110747,
    1910110047,
    1410110143,
    1410110728,
    1510110396,
    1110110672,
    1110110562,
    1210110351,
    1610110232,
    1510110016,
    1010110554,
    1610110043,
    1310110648,
    1210110493,
    1110110399,
    1710110405,
    1210110956,
    1510110230,
    1710110741,
    1710110842,
    1810110623,
    1010110773,
    1510110959,
    1310110389,
    1310110670,
    1710110493,
    1910110859,
    1010110776,
    1510110063,
    1810110666,
    1910110473,
    1610110184,
    1110110351,
    1010110493,
    1410110328,
    1510110001,
    1410110427,
    1310110208,
    1010110734,
    1710110547,
    1710110807,
    1210110797,
    1710110167,
    1310110890,
    1410110381,
    1510110558,
    1210110280,
    1710110172,
    1710110686,
    1510110648,
    1810110659,
    1210110830,
    1610110635,
    1910110491,
    1910110957,
];

batch2021 = [
    1810110088,
    1310110144,
    1510110048,
    1910110713,
    1610110814,
    1510110962,
    1310110100,
    1910110255,
    1810110155,
    1210110487,
    1310110365,
    1310110113,
    1810110237,
    1110110202,
    1510110775,
    1410110944,
    1010110961,
    1010110348,
    1710110591,
    1010110777,
    1210110015,
    1310110201,
    1610110431,
    1010110669,
    1710110618,
    1910110576,
    1910110707,
    1510110018,
    1110110561,
    1010110108,
    1310110382,
    1410110508,
    1710110418,
    1410110834,
    1410110117,
    1610110286,
    1110110780,
    1910110999,
    1610110632,
    1510110570,
    1210110172,
    1010110377,
    1210110546,
    1710110029,
    1810110990,
    1310110064,
    1810110261,
    1810110937,
    1610110936,
    1810110205,
    1510110066,
    1710110976,
    1910110734,
    1710110192,
    1010110613,
    1510110061,
    1810110564,
    1810110747,
    1910110500,
    1110110424,
    1410110155,
    1410110143,
    1410110728,
    1810110085,
    1110110562,
    1910110001,
    1710110471,
    1410110509,
    1210110438,
    1310110425,
    1310110648,
    1310110748,
    1510110942,
    1110110710,
    1710110405,
    1010110936,
    1210110956,
    1810110242,
    1710110626,
    1610110003,
    1810110623,
    1010110811,
    1310110670,
    1510110561,
    1410110938,
    1710110223,
    1010110099,
    1010110707,
    1110110634,
    1410110483,
    1510110194,
    1510110179,
    1410110112,
    1010110640,
    1810110590,
    1510110063,
    1510110777,
    1010110729,
    1710110684,
    1810110219,
    1310110104,
    1510110001,
    1010110756,
    1010110274,
    1610110331,
    1010110734,
    1410110705,
    1310110113,
    1010110318,
    1010110324,
    1110110676,
    1910110426,
    1910110500,
    1610110779,
    1510110244,
    1910110369,
    1510110878,
    1410110381,
    1910110247,
    1710110172,
    1410110132,
    1610110819,
    1310110560,
    1710110686,
    1310110336,
    1810110574,
    1310110063,
    1710110430,
    1910110139,
    1910110957,
    1510110670,
];

let intersection = cse.filter((x) => batch2021.includes(x));

console.log(intersection);

db.collection('elections')
    .doc('3cwRxjRM2fJB9mMqTkdm')
    .update({
        election_eligible_voters: intersection,
    });

db.collection('elections')
    .doc('5PSP9EgEr8IVlyrcKTDe')
    .update({
        election_eligible_voters: intersection,
    });

db.collection('elections')
    .doc('Q2UYGmNq7WTbexU9v4IZ')
    .update({
        election_eligible_voters: intersection,
    });

db.collection('elections')
    .doc('jxvkvdLS1FBGHKwJGpvQ')
    .update({
        election_eligible_voters: intersection,
    });
